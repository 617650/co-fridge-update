{"remainingRequest":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\src\\App.vue","mtime":1642052742394},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAnLi9tYWluJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKLy8gaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvdWkvTm90aWZpY2F0aW9uLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcCcsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNpZ25lZEluVXNlcjogJycsCiAgICAgIHVzZXJQcm9maWxlT3duZXI6ICcnLAogICAgICByZXNwb25zZTogJycsCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlKCl7CiAgICBsZXQgYXV0aGVudGljYXRlZCA9IHRoaXMuJGNvb2tpZS5nZXQoJ2ZyaXR0ZXItYXV0aCcpOwogICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9IGVsc2V7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpOwogICAgfQogIH0sCiAgLy8gbWV0aG9kczogewogIC8vICAgdGltZU91dCgpIHsKICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmlzTm90aWZpY2F0aW9uVmlzaWJsZS52YWx1ZSA9IGZhbHNlLCAzMDAwKQogIC8vICAgfQogIC8vIH0sCiAgLy8gYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbigpIHsKICAvLyAgIGxldCBhdXRoZW50aWNhdGVkID0gdGhpcy4kY29va2llLmdldCgnZnJpdHRlci1hdXRoJyk7CiAgLy8gICBpZiAoIWF1dGhlbnRpY2F0ZWQpIHsKICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAvLyAgIH0KICAvLyB9LAogIGNyZWF0ZWQoKSB7CiAgICBheGlvcwogICAgICAuZ2V0KCcvYXBpL3VzZXIvc2Vzc2lvbicpCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICBsZXQgYXV0aGVudGljYXRlZCA9IHRoaXMuJGNvb2tpZS5nZXQoJ2ZyaXR0ZXItYXV0aCcpOwogICAgICAgIGlmIChhdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICB0aGlzLnNpZ25lZEluVXNlciA9IGF1dGhlbnRpY2F0ZWQ7ICAgICAgICAgIAogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kY29va2llLnNldCgnZnJpdHRlci1hdXRoJywgJycpOwogICAgICB9KTsKCiAgICBldmVudEJ1cy4kb24oJ2xvZ2luLXN1Y2Nlc3MnLCAoZGF0YSkgPT4gewogICAgICB0aGlzLiRjb29raWUuc2V0KCdmcml0dGVyLWF1dGgnLCBkYXRhLmRhdGEudXNlcklEKTsKICAgICAgdGhpcy5zaWduZWRJblVzZXIgPSBkYXRhLmRhdGEudXNlcklEOwogICAgfSk7CiAgICBldmVudEJ1cy4kb24oJ3NpZ25vdXQtc3VjY2VzcycsICgpID0+IHsKICAgICAgdGhpcy4kY29va2llLnNldCgnZnJpdHRlci1hdXRoJywgJycpOwogICAgICB0aGlzLiRjb29raWUuc2V0KCdmcml0dGVyLWF1dGgnLCAnJyk7CiAgICAgIHRoaXMuc2lnbmVkSW5Vc2VyID0gJyc7CiAgICB9KTsKICB9LAogIHVwZGF0ZWQoKSB7CiAgICBldmVudEJ1cy4kb24oJ2xvZ2luLXN1Y2Nlc3MnLCAoZGF0YSkgPT4gewogICAgICB0aGlzLiRjb29raWUuc2V0KCdmcml0dGVyLWF1dGgnLCBkYXRhLmRhdGEudXNlcklEKTsKICAgICAgdGhpcy5zaWduZWRJblVzZXIgPSBkYXRhLmRhdGEudXNlcklEOwogICAgfSk7CiAgICBldmVudEJ1cy4kb24oJ3NpZ25vdXQtc3VjY2VzcycsICgpID0+IHsKICAgICAgdGhpcy4kY29va2llLnNldCgnZnJpdHRlci1hdXRoJywgJycpOwogICAgICB0aGlzLnNpZ25lZEluVXNlciA9ICcnOwogICAgfSk7CiAgICBldmVudEJ1cy4kb24oJ2RlbGV0ZUFjY291bnQtc3VjY2VzcycsICgpID0+IHsKICAgICAgdGhpcy4kY29va2llLnNldCgnZnJpdHRlci1hdXRoJywgJycpOwogICAgICB0aGlzLnNpZ25lZEluVXNlciA9ICcnOwogICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div>\n    <!-- <div v-if=\"signedInUser\" class=\"header-container\">\n      <MainNav />\n    </div> -->\n    <router-view\n      :key=\"$route.path\"\n      :signedInUser=\"signedInUser\"\n      \n      :userProfileOwner=\"userProfileOwner\"\n      :response=\"response\"\n    >\n    </router-view>\n  </div>\n</template>\n\n<script>\nimport { eventBus } from './main';\nimport axios from 'axios';\n// import Notification from './components/ui/Notification.vue';\n\nexport default {\n  name: 'app',\n  components: {},\n  data() {\n    return {\n      signedInUser: '',\n      userProfileOwner: '',\n      response: '',\n    };\n  },\n  beforeCreate(){\n    let authenticated = this.$cookie.get('fritter-auth');\n    if (!authenticated) {\n      this.$router.push(\"/\");\n    } else{\n      this.$router.push(\"/home\");\n    }\n  },\n  // methods: {\n  //   timeOut() {\n  //     setTimeout(() => this.isNotificationVisible.value = false, 3000)\n  //   }\n  // },\n  // beforeCreate: function() {\n  //   let authenticated = this.$cookie.get('fritter-auth');\n  //   if (!authenticated) {\n  //     this.$router.push(\"/\");\n  //   }\n  // },\n  created() {\n    axios\n      .get('/api/user/session')\n      .then(() => {\n        let authenticated = this.$cookie.get('fritter-auth');\n        if (authenticated) {\n          this.signedInUser = authenticated;          \n        }else{\n          this.$router.push(\"/\");\n        }\n      })\n      .catch(() => {\n        this.$cookie.set('fritter-auth', '');\n      });\n\n    eventBus.$on('login-success', (data) => {\n      this.$cookie.set('fritter-auth', data.data.userID);\n      this.signedInUser = data.data.userID;\n    });\n    eventBus.$on('signout-success', () => {\n      this.$cookie.set('fritter-auth', '');\n      this.$cookie.set('fritter-auth', '');\n      this.signedInUser = '';\n    });\n  },\n  updated() {\n    eventBus.$on('login-success', (data) => {\n      this.$cookie.set('fritter-auth', data.data.userID);\n      this.signedInUser = data.data.userID;\n    });\n    eventBus.$on('signout-success', () => {\n      this.$cookie.set('fritter-auth', '');\n      this.signedInUser = '';\n    });\n    eventBus.$on('deleteAccount-success', () => {\n      this.$cookie.set('fritter-auth', '');\n      this.signedInUser = '';\n    });\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}