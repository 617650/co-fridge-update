{"remainingRequest":"C:\\Users\\isabe\\Desktop\\co-fridge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\isabe\\Desktop\\co-fridge\\src\\components\\user\\ScheduleCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\isabe\\Desktop\\co-fridge\\src\\components\\user\\ScheduleCard.vue","mtime":1649425030476},{"path":"C:\\Users\\isabe\\Desktop\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649425007413},{"path":"C:\\Users\\isabe\\Desktop\\co-fridge\\node_modules\\babel-loader\\lib\\index.js","mtime":1649425007116},{"path":"C:\\Users\\isabe\\Desktop\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649425007413},{"path":"C:\\Users\\isabe\\Desktop\\co-fridge\\node_modules\\vue-loader\\lib\\index.js","mtime":1649425022116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsNCiAgICBldmVudEJ1cw0KfSBmcm9tICIuLi8uLi9tYWluIjsNCmltcG9ydCB7DQogICAgVGFicywNCiAgICBUYWJJdGVtDQp9IGZyb20gInZ1ZS1tYXRlcmlhbC10YWJzIjsNCg0KaW1wb3J0IENvbXBsZXRlQnV0dG9uIGZyb20gIkAvY29tcG9uZW50cy9pdGVtL0NvbXBsZXRlQnV0dG9uLnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiU2NoZWR1bGVDYXJkIiwNCiAgICBwcm9wczogWyJzaWduZWRJblVzZXIiLCAidXNlclByb2ZpbGVPd25lciIsICJyZXNwb25zZSJdLA0KICAgIGNvbXBvbmVudHM6IHsNCg0KICAgICAgICBUYWJzLA0KICAgICAgICBUYWJJdGVtLA0KICAgICAgICBDb21wbGV0ZUJ1dHRvbg0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGl0ZW1zSUQ6IFtdLA0KICAgICAgICAgICAgaXRlbXM6IFtdLA0KICAgICAgICAgICAgY2xhaW1lZEl0ZW1zSUQ6IFtdLA0KICAgICAgICAgICAgY2xhaW1lZEl0ZW1zOiBbXSwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuZ2V0U2lnbmVkSW5Vc2VyKCk7DQogICAgICAgIGV2ZW50QnVzLiRvbihbInByb2ZpbGUtdXBkYXRlZCIsICJjcmVhdGUtaXRlbS1zdWNjZXNzIiwNCiAgICAgICAgICAgICJkZWxldGUtaXRlbS1zdWNjZXNzIiwNCiAgICAgICAgICAgICJjbGFpbS1pdGVtLXN1Y2Nlc3MiLA0KICAgICAgICAgICAgIm1hcmstY29tcGxldGUtc3VjY2VzcyINCiAgICAgICAgXSwgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5nZXRTaWduZWRJblVzZXIoKTsNCiAgICAgICAgfSk7DQoNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0U2lnbmVkSW5Vc2VyKCkgew0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL3VzZXIvc2Vzc2lvbi9wcm9maWxlIikNCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEl0ZW1zKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDbGFpbWVkSXRlbXMocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0U2lnbmVkSW5Vc2VyIHJlc3BvbnNlIik7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+DQogICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJyZXNwb25zZS1lcnJvciIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SXRlbXMocmVzcG9uc2UpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZS5kYXRhLml0ZW1zIik7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLml0ZW1zKTsNCiAgICAgICAgICAgIHRoaXMuaXRlbXNJRCA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7DQogICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHRoaXMuaXRlbXNJRCkgew0KICAgICAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAgICAgICAgIC5nZXQoIi9hcGkvaXRlbS9pZC8iICsgaWQpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+DQogICAgICAgICAgICAgICAgICAgICAgICBldmVudEJ1cy4kZW1pdCgicmVzcG9uc2UtZXJyb3IiLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLml0ZW1zJyk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zKQ0KICAgICAgICB9LA0KICAgICAgICBnZXRDbGFpbWVkSXRlbXMocmVzcG9uc2UpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZS5kYXRhLmNsYWltZWRJdGVtcyIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5jbGFpbWVkSXRlbXMpOw0KICAgICAgICAgICAgdGhpcy5jbGFpbWVkSXRlbXNJRCA9IHJlc3BvbnNlLmRhdGEuY2xhaW1lZEl0ZW1zOw0KICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuY2xhaW1lZEl0ZW1zSUQpIHsNCiAgICAgICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL2l0ZW0vaWQvIiArIGl0ZW0uaXRlbUlkKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhaW1lZEl0ZW1zLnB1c2gocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+DQogICAgICAgICAgICAgICAgICAgICAgICBldmVudEJ1cy4kZW1pdCgicmVzcG9uc2UtZXJyb3IiLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLml0ZW1zJyk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zKQ0KICAgICAgICB9LA0KDQogICAgfSwNCn07DQo="},{"version":3,"sources":["ScheduleCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ScheduleCard.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n<div class=\"user-items-div\">\r\n    <div class=\"row justify-content-center title-div\">\r\n        <div class=\"col-12 title-col\">\r\n            <h2 id=\"title\"><img src='@/assets/icons-Time.png'> My Orders</h2>\r\n        </div>\r\n        <div class=\"col-12 title-col\"> </div>\r\n    </div>\r\n    <div class=\"row justify-content-center tab-div\">\r\n        <Tabs class='Tab-container' id=\"tab-container\">\r\n\r\n            <TabItem name=\"Upcoming\">\r\n                <div class=\"first-tab\">\r\n                    <div class=\"col-12 content-col\">\r\n                        <div v-if=\"claimedItemsID.filter((item)=>item.status===0).length===0\" class=\"empty-placeholder\">\r\n                            ðŸ‘€ You haven't claimed any item yet.\r\n                        </div>\r\n                        <div v-else>\r\n\r\n                            <div :key=\"item.id\" :item=\"item\" v-for=\"(item,index) in claimedItems\">\r\n                                <div class=\"row item-row\" v-if=\"claimedItemsID[index].status===0\">\r\n                                    <div class=\"col-1\">\r\n                                        ID: {{claimedItemsID[index].id.slice(0,5)}}\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <div>Qt. {{claimedItemsID[index].quantity}}</div>\r\n                                        <div>{{item.name}}</div>\r\n                                        <div><strong>{{item.utility}}</strong></div>\r\n                                    </div>\r\n                                    <div class=\"col-3\">\r\n                                        <div> Pick-up Window</div>\r\n                                        <span>{{item.start}} - {{item.end}}<br /> {{item.date}}</span>\r\n                                    </div>\r\n                                    <!-- <div class=\"col-3\">\r\n                                    <div>By</div>\r\n                                    <span>(placeholder for owner name){{item}}</span>\r\n                                </div> -->\r\n                                    <div class=\"col-3\">\r\n                                        <div> Owner</div>\r\n                                        <span>{{item.creatorName}}</span>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <complete-button :orderID='claimedItemsID[index].id' :when=\"'order'\" class=\"complete-btn\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </TabItem>\r\n\r\n            <TabItem name=\"Completed\">\r\n                <div class=\"second-tab\">\r\n                    <div class=\"col-12 content-col\">\r\n                        <div v-if=\"claimedItemsID.filter((item)=>item.status===1).length===0\" class=\"empty-placeholder\">\r\n                            ðŸ‘€ This space is empty right now.<br>\r\n                            <router-link class=\"router-link\" to=\"/home\">See if you have â‡—</router-link>\r\n                        </div>\r\n                        <div v-else>\r\n                            <div :key=\"item.id\" :item=\"item\" v-for=\"(item,index) in claimedItems\">\r\n                                <div class=\"row item-row\" v-if=\"claimedItemsID[index].status===1\">\r\n                                    <div class=\"col-2\">\r\n                                        ID: {{claimedItemsID[index].id.slice(0,5)}}\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <div>Qt. {{claimedItemsID[index].quantity}}</div>\r\n                                        <div>{{item.name}}</div>\r\n                                        <div><strong>{{item.utility}}</strong></div>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <div> Pick-up Window</div>\r\n                                        <span>{{item.start}} - {{item.end}}, {{item.date}}</span>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <div> Owner</div>\r\n                                        <span>{{item.creatorName}}</span>\r\n                                    </div>\r\n                                    <!-- <div class=\"col-3\">\r\n                                    <div>By</div>\r\n                                    <span>(placeholder for owner name){{item}}</span>\r\n                                </div> -->\r\n                                    Completed\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </TabItem>\r\n\r\n        </Tabs>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {\r\n    eventBus\r\n} from \"../../main\";\r\nimport {\r\n    Tabs,\r\n    TabItem\r\n} from \"vue-material-tabs\";\r\n\r\nimport CompleteButton from \"@/components/item/CompleteButton.vue\";\r\n\r\nexport default {\r\n    name: \"ScheduleCard\",\r\n    props: [\"signedInUser\", \"userProfileOwner\", \"response\"],\r\n    components: {\r\n\r\n        Tabs,\r\n        TabItem,\r\n        CompleteButton\r\n    },\r\n    data() {\r\n        return {\r\n            itemsID: [],\r\n            items: [],\r\n            claimedItemsID: [],\r\n            claimedItems: [],\r\n        };\r\n    },\r\n    created() {\r\n        this.getSignedInUser();\r\n        eventBus.$on([\"profile-updated\", \"create-item-success\",\r\n            \"delete-item-success\",\r\n            \"claim-item-success\",\r\n            \"mark-complete-success\"\r\n        ], () => {\r\n            this.getSignedInUser();\r\n        });\r\n\r\n    },\r\n    methods: {\r\n        getSignedInUser() {\r\n            axios\r\n                .get(\"/api/user/session/profile\")\r\n                .then((response) => {\r\n                    console.log(response);\r\n                    this.getItems(response);\r\n                    this.getClaimedItems(response);\r\n                    console.log(\"getSignedInUser response\");\r\n                    console.log(response);\r\n                })\r\n                .catch((error) =>\r\n                    eventBus.$emit(\"response-error\", {\r\n                        data: error.response\r\n                    })\r\n                );\r\n        },\r\n        getItems(response) {\r\n            console.log(\"response.data.items\");\r\n            console.log(response.data.items);\r\n            this.itemsID = response.data.items;\r\n            for (const id of this.itemsID) {\r\n                axios\r\n                    .get(\"/api/item/id/\" + id)\r\n                    .then((response) => {\r\n                        console.log('response');\r\n                        console.log(response.data);\r\n                        if (response.data != \"\") {\r\n                            this.items.push(response.data);\r\n                        }\r\n\r\n                    })\r\n                    .catch((error) =>\r\n                        eventBus.$emit(\"response-error\", {\r\n                            data: error.response\r\n                        })\r\n                    )\r\n            }\r\n            console.log('this.items');\r\n            console.log(this.items)\r\n        },\r\n        getClaimedItems(response) {\r\n            console.log(\"response.data.claimedItems\");\r\n            console.log(response.data.claimedItems);\r\n            this.claimedItemsID = response.data.claimedItems;\r\n            for (const item of this.claimedItemsID) {\r\n                axios\r\n                    .get(\"/api/item/id/\" + item.itemId)\r\n                    .then((response) => {\r\n                        console.log('response');\r\n                        console.log(response.data);\r\n                        if (response.data != \"\") {\r\n                            this.claimedItems.push(response.data);\r\n                        }\r\n                    })\r\n                    .catch((error) =>\r\n                        eventBus.$emit(\"response-error\", {\r\n                            data: error.response\r\n                        })\r\n                    )\r\n            }\r\n            console.log('this.items');\r\n            console.log(this.items)\r\n        },\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-items-div {\r\n    font-family: \"Montserrat\", sans-serif;\r\n    padding: 0 30px;\r\n    width: 90%;\r\n    margin: 0 4vw;\r\n}\r\n.col-12 {\r\n    padding: 0;\r\n}\r\n#title {\r\n    font-size: 1.5rem;\r\n    font-weight: 700;\r\n}\r\n.content-col {\r\n    border-top: 1px solid black;\r\n    min-height: 20vh;\r\n}\r\n.empty-placeholder {\r\n    margin: 4vh 2vw;\r\n    font-size: 1.5rem;\r\n}\r\n.Tab-container {\r\n    border:none;\r\n    border-radius: 0;\r\n    min-height: 30vh;\r\n    background: #FCF8F2;\r\n}\r\n.Tab-container .tabs{\r\n    border:none;\r\n    border-radius: 0;\r\n    min-height: 30vh;\r\n    background: none;\r\n    margin: 2vh 3vw;\r\n}\r\n#tab-container{\r\n    background: none;\r\n}\r\n.item-row {\r\n    margin: 4vh 4vw;\r\n    display: flex;\r\n}\r\n\r\n</style>\r\n"]}]}