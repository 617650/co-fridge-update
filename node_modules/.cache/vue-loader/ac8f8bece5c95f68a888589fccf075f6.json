{"remainingRequest":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\src\\components\\user\\ScheduleCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\src\\components\\user\\ScheduleCard.vue","mtime":1642052743781},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\isabe\\Desktop\\web-projects\\co-fridge\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7CiAgICBldmVudEJ1cwp9IGZyb20gIi4uLy4uL21haW4iOwppbXBvcnQgewogICAgVGFicywKICAgIFRhYkl0ZW0KfSBmcm9tICJ2dWUtbWF0ZXJpYWwtdGFicyI7CgppbXBvcnQgQ29tcGxldGVCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL2l0ZW0vQ29tcGxldGVCdXR0b24udnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTY2hlZHVsZUNhcmQiLAogICAgcHJvcHM6IFsic2lnbmVkSW5Vc2VyIiwgInVzZXJQcm9maWxlT3duZXIiLCAicmVzcG9uc2UiXSwKICAgIGNvbXBvbmVudHM6IHsKCiAgICAgICAgVGFicywKICAgICAgICBUYWJJdGVtLAogICAgICAgIENvbXBsZXRlQnV0dG9uCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpdGVtc0lEOiBbXSwKICAgICAgICAgICAgaXRlbXM6IFtdLAogICAgICAgICAgICBjbGFpbWVkSXRlbXNJRDogW10sCiAgICAgICAgICAgIGNsYWltZWRJdGVtczogW10sCiAgICAgICAgfTsKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0U2lnbmVkSW5Vc2VyKCk7CiAgICAgICAgZXZlbnRCdXMuJG9uKFsicHJvZmlsZS11cGRhdGVkIiwgImNyZWF0ZS1pdGVtLXN1Y2Nlc3MiLAogICAgICAgICAgICAiZGVsZXRlLWl0ZW0tc3VjY2VzcyIsCiAgICAgICAgICAgICJjbGFpbS1pdGVtLXN1Y2Nlc3MiLAogICAgICAgICAgICAibWFyay1jb21wbGV0ZS1zdWNjZXNzIgogICAgICAgIF0sICgpID0+IHsKICAgICAgICAgICAgdGhpcy5nZXRTaWduZWRJblVzZXIoKTsKICAgICAgICB9KTsKCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFNpZ25lZEluVXNlcigpIHsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5nZXQoIi9hcGkvdXNlci9zZXNzaW9uL3Byb2ZpbGUiKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SXRlbXMocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xhaW1lZEl0ZW1zKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0U2lnbmVkSW5Vc2VyIHJlc3BvbnNlIik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+CiAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoInJlc3BvbnNlLWVycm9yIiwgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgZ2V0SXRlbXMocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlLmRhdGEuaXRlbXMiKTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5pdGVtcyk7CiAgICAgICAgICAgIHRoaXMuaXRlbXNJRCA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7CiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgdGhpcy5pdGVtc0lEKSB7CiAgICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgICAgIC5nZXQoIi9hcGkvaXRlbS9pZC8iICsgaWQpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJyZXNwb25zZS1lcnJvciIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLml0ZW1zJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpCiAgICAgICAgfSwKICAgICAgICBnZXRDbGFpbWVkSXRlbXMocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlLmRhdGEuY2xhaW1lZEl0ZW1zIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuY2xhaW1lZEl0ZW1zKTsKICAgICAgICAgICAgdGhpcy5jbGFpbWVkSXRlbXNJRCA9IHJlc3BvbnNlLmRhdGEuY2xhaW1lZEl0ZW1zOwogICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jbGFpbWVkSXRlbXNJRCkgewogICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL2l0ZW0vaWQvIiArIGl0ZW0uaXRlbUlkKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYWltZWRJdGVtcy5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PgogICAgICAgICAgICAgICAgICAgICAgICBldmVudEJ1cy4kZW1pdCgicmVzcG9uc2UtZXJyb3IiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5pdGVtcycpOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zKQogICAgICAgIH0sCgogICAgfSwKfTsK"},{"version":3,"sources":["ScheduleCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ScheduleCard.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n<div class=\"user-items-div\">\n    <div class=\"row justify-content-center title-div\">\n        <div class=\"col-12 title-col\">\n            <h2 id=\"title\"><img src='@/assets/icons-Time.png'> My Orders</h2>\n        </div>\n        <div class=\"col-12 title-col\"> </div>\n    </div>\n    <div class=\"row justify-content-center tab-div\">\n        <Tabs class='Tab-container' id=\"tab-container\">\n\n            <TabItem name=\"Upcoming\">\n                <div class=\"first-tab\">\n                    <div class=\"col-12 content-col\">\n                        <div v-if=\"claimedItemsID.filter((item)=>item.status===0).length===0\" class=\"empty-placeholder\">\n                            ðŸ‘€ You haven't claimed any item yet.\n                        </div>\n                        <div v-else>\n\n                            <div :key=\"item.id\" :item=\"item\" v-for=\"(item,index) in claimedItems\">\n                                <div class=\"row item-row\" v-if=\"claimedItemsID[index].status===0\">\n                                    <div class=\"col-1\">\n                                        ID: {{claimedItemsID[index].id.slice(0,5)}}\n                                    </div>\n                                    <div class=\"col-2\">\n                                        <div>Qt. {{claimedItemsID[index].quantity}}</div>\n                                        <div>{{item.name}}</div>\n                                        <div><strong>{{item.utility}}</strong></div>\n                                    </div>\n                                    <div class=\"col-3\">\n                                        <div> Pick-up Window</div>\n                                        <span>{{item.start}} - {{item.end}}<br /> {{item.date}}</span>\n                                    </div>\n                                    <!-- <div class=\"col-3\">\n                                    <div>By</div>\n                                    <span>(placeholder for owner name){{item}}</span>\n                                </div> -->\n                                    <div class=\"col-3\">\n                                        <div> Owner</div>\n                                        <span>{{item.creatorName}}</span>\n                                    </div>\n                                    <div class=\"col-2\">\n                                        <complete-button :orderID='claimedItemsID[index].id' :when=\"'order'\" class=\"complete-btn\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </TabItem>\n\n            <TabItem name=\"Completed\">\n                <div class=\"second-tab\">\n                    <div class=\"col-12 content-col\">\n                        <div v-if=\"claimedItemsID.filter((item)=>item.status===1).length===0\" class=\"empty-placeholder\">\n                            ðŸ‘€ This space is empty right now.<br>\n                            <router-link class=\"router-link\" to=\"/home\">See if you have â‡—</router-link>\n                        </div>\n                        <div v-else>\n                            <div :key=\"item.id\" :item=\"item\" v-for=\"(item,index) in claimedItems\">\n                                <div class=\"row item-row\" v-if=\"claimedItemsID[index].status===1\">\n                                    <div class=\"col-2\">\n                                        ID: {{claimedItemsID[index].id.slice(0,5)}}\n                                    </div>\n                                    <div class=\"col-2\">\n                                        <div>Qt. {{claimedItemsID[index].quantity}}</div>\n                                        <div>{{item.name}}</div>\n                                        <div><strong>{{item.utility}}</strong></div>\n                                    </div>\n                                    <div class=\"col-2\">\n                                        <div> Pick-up Window</div>\n                                        <span>{{item.start}} - {{item.end}}, {{item.date}}</span>\n                                    </div>\n                                    <div class=\"col-2\">\n                                        <div> Owner</div>\n                                        <span>{{item.creatorName}}</span>\n                                    </div>\n                                    <!-- <div class=\"col-3\">\n                                    <div>By</div>\n                                    <span>(placeholder for owner name){{item}}</span>\n                                </div> -->\n                                    Completed\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </TabItem>\n\n        </Tabs>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {\n    eventBus\n} from \"../../main\";\nimport {\n    Tabs,\n    TabItem\n} from \"vue-material-tabs\";\n\nimport CompleteButton from \"@/components/item/CompleteButton.vue\";\n\nexport default {\n    name: \"ScheduleCard\",\n    props: [\"signedInUser\", \"userProfileOwner\", \"response\"],\n    components: {\n\n        Tabs,\n        TabItem,\n        CompleteButton\n    },\n    data() {\n        return {\n            itemsID: [],\n            items: [],\n            claimedItemsID: [],\n            claimedItems: [],\n        };\n    },\n    created() {\n        this.getSignedInUser();\n        eventBus.$on([\"profile-updated\", \"create-item-success\",\n            \"delete-item-success\",\n            \"claim-item-success\",\n            \"mark-complete-success\"\n        ], () => {\n            this.getSignedInUser();\n        });\n\n    },\n    methods: {\n        getSignedInUser() {\n            axios\n                .get(\"/api/user/session/profile\")\n                .then((response) => {\n                    console.log(response);\n                    this.getItems(response);\n                    this.getClaimedItems(response);\n                    console.log(\"getSignedInUser response\");\n                    console.log(response);\n                })\n                .catch((error) =>\n                    eventBus.$emit(\"response-error\", {\n                        data: error.response\n                    })\n                );\n        },\n        getItems(response) {\n            console.log(\"response.data.items\");\n            console.log(response.data.items);\n            this.itemsID = response.data.items;\n            for (const id of this.itemsID) {\n                axios\n                    .get(\"/api/item/id/\" + id)\n                    .then((response) => {\n                        console.log('response');\n                        console.log(response.data);\n                        if (response.data != \"\") {\n                            this.items.push(response.data);\n                        }\n\n                    })\n                    .catch((error) =>\n                        eventBus.$emit(\"response-error\", {\n                            data: error.response\n                        })\n                    )\n            }\n            console.log('this.items');\n            console.log(this.items)\n        },\n        getClaimedItems(response) {\n            console.log(\"response.data.claimedItems\");\n            console.log(response.data.claimedItems);\n            this.claimedItemsID = response.data.claimedItems;\n            for (const item of this.claimedItemsID) {\n                axios\n                    .get(\"/api/item/id/\" + item.itemId)\n                    .then((response) => {\n                        console.log('response');\n                        console.log(response.data);\n                        if (response.data != \"\") {\n                            this.claimedItems.push(response.data);\n                        }\n                    })\n                    .catch((error) =>\n                        eventBus.$emit(\"response-error\", {\n                            data: error.response\n                        })\n                    )\n            }\n            console.log('this.items');\n            console.log(this.items)\n        },\n\n    },\n};\n</script>\n\n<style scoped>\n.user-items-div {\n    font-family: \"Montserrat\", sans-serif;\n    padding: 0 30px;\n    width: 90%;\n    margin: 0 4vw;\n}\n.col-12 {\n    padding: 0;\n}\n#title {\n    font-size: 1.5rem;\n    font-weight: 700;\n}\n.content-col {\n    border-top: 1px solid black;\n    min-height: 20vh;\n}\n.empty-placeholder {\n    margin: 4vh 2vw;\n    font-size: 1.5rem;\n}\n.Tab-container {\n    border:none;\n    border-radius: 0;\n    min-height: 30vh;\n    background: #FCF8F2;\n}\n.Tab-container .tabs{\n    border:none;\n    border-radius: 0;\n    min-height: 30vh;\n    background: none;\n    margin: 2vh 3vw;\n}\n#tab-container{\n    background: none;\n}\n.item-row {\n    margin: 4vh 4vw;\n    display: flex;\n}\n\n</style>\n"]}]}